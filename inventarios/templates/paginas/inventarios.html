{% extends 'index.html' %}
{% block titulo %} inventarios {% endblock %}
{% block contenido %}


<main style="position: fixed;
width: 100%;
height: 100vh;
z-index: -1;
top: 1;left: 0;">
<div class="overlay" id="overlay" hidden>
  <div class="confirm-box">
    <div onclick="closeConfirmBox()" class="close">&#10006;</div>
    <h2>Confirmation</h2>
    <p>Estas seguro de que quieres elimnar el producto?</p>
    <button onclick="isConfirm(true)">Yes</button>
    <button onclick="isConfirm(false)">No</button>
  </div>
</div>
  <div class="card col-md-10 offset-md-1 mt-4">
    <div method="post">
        <table class="table table-sm table-bordered"  id="tablax">
          <thead style="background-color: #1e0046; color: #ffffff;">
            <tr>
              <th>ID</th>
              <th>Producto</th>
              <th>Tipo</th>
              <th>Marca</th>
              <th>Valor costo</th> 
              <th>Precio de venta</th>
              <th>Numero de factura</th>
              <th>fecha de vencimiento</th>
              <th>Distribuidor</th>
              <th>Cantidad</th>
              <th>Acciones</th>
            </tr>
          </thead>
          &nbsp;    
          <tbody class="tbody-lg">
          {% for productos in paginas %}
            <tr>
              <td>{{ productos.id }}</td>
              <td>{{ productos.producto }}</td>
              <td>{{ productos.Tipo2 }}</td>
              <td>{{ productos.Marca }}</td>
              <td>{{ productos.precio_entrada }}</td>
              <td>{{ productos.precio_salida }}</td>
              <td>{{ productos.facturas}}</td>
              <td>{{ productos.fecha_vencimiento }}</td>
              <td>{{ productos.Distribuidor }}</td>
              <td>{{ productos.cantidad }}</td>
              
              <td><div class="gap-3 d-md-flex justify-content-md-left mb-3">
                <p><a name="" id="" class="btn btn-success btn-block btn-sm" style="width:70px; height:30px;" href="{% url 'editar' productos.id %}" role="button">Editar</a></p>
                <p><a name="" id="delete-button" class="btn btn-danger btn-block btn-sm" style="width:70px; height:30px;" href="{% url 'eliminar' productos.id %}" role="button">Eliminar</a></p>                            
              </div></td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
        
      </div>
    </div>
    </div>
  </main>

        
<!-- Bootstrap JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous">
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous">
</script> 
<!-- JQUERY -->
<script src="https://code.jquery.com/jquery-3.4.1.js"
integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous">
</script>
<!-- DATATABLES -->
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js">
</script>
<!-- BOOTSTRAP -->
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js">
</script>
<script>
  $(document).ready(function () {
      $('#tablax').DataTable({
          language: {
              processing: "Tratamiento en curso...",
              search: "Buscar&nbsp;:",
              lengthMenu: "Agrupar de _MENU_ items",
              info: "Mostrando del item _START_ al _END_ de un total de _TOTAL_ items",
              infoEmpty: "No existen datos.",
              infoFiltered: "(filtrado de _MAX_ elementos en total)",
              infoPostFix: "",
              loadingRecords: "Cargando...",
              zeroRecords: "No se encontraron datos con tu busqueda",
              emptyTable: "No hay datos disponibles en la tabla.",
              paginate: {
                  first: "Primero",
                  previous: "Anterior",
                  next: "Siguiente",
                  last: "Ultimo"
              },
              aria: {
                  sortAscending: ": active para ordenar la columna en orden ascendente",
                  sortDescending: ": active para ordenar la columna en orden descendente"
              }
          },
          scrollY: 400,
          lengthMenu: [ [10, 25, -1], [10, 25, "All"] ],
      });
  });
</script>
<!----------------------boton--eliminar---------------------->
<script>
  $("#delete-button").click(function(){
      if(confirm("Are you sure you want to delete this?")){
          $("#delete-button").attr("href");
      }
      else{
          return false;
      }
  });
  </script>
{% endblock %}